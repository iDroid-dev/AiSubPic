@layout.app({ title: "–¢–∞—Ä–∏—Ñ—ã" })
@slot('main')
  <div class="flex justify-between mb-6">
    <h1 class="text-3xl font-bold">–¢–∞—Ä–∏—Ñ—ã</h1>
    <a href="{{ route('admin.plans.create') }}" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å —Ç–∞—Ä–∏—Ñ</a>
  </div>

  <div class="overflow-x-auto">
    <table class="table bg-base-100 shadow">
      <thead>
          <tr>
              <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
              <th>–ë–æ—Ç</th>
              <th>–¶–µ–Ω–∞</th>
              <th>–£—Å–ª–æ–≤–∏—è</th>
              <th>–°—Ç–∞—Ç—É—Å</th> {{-- –ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ --}}
              <th>–î–µ–π—Å—Ç–≤–∏—è</th>
          </tr>
      </thead>
      <tbody>
          @each(plan in plans)
          <tr class="hover">
              {{-- –ù–∞–∑–≤–∞–Ω–∏–µ --}}
              <td class="font-bold">
                  {{ plan.name }}
                  <div class="text-xs font-normal opacity-50">{{ plan.description || '' }}</div>
              </td>

              {{-- –ë–æ—Ç --}}
              <td>
                  @if(plan.bot)
                      <div class="badge badge-neutral badge-sm">{{ plan.bot.name }}</div>
                  @else
                      <div class="badge badge-ghost badge-sm">–û–±—â–∏–π</div>
                  @endif
              </td>

              {{-- –¶–µ–Ω–∞ --}}
              <td>
                <div class="font-mono">{{ plan.price }} {{ plan.currency }}</div>
              </td>

              {{-- –£—Å–ª–æ–≤–∏—è (–ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ + –î–Ω–∏) --}}
              <td>
                  <div class="flex flex-col text-xs">
                      <span>üé® {{ plan.credits }} —à—Ç.</span>
                      <span class="opacity-70">‚è≥ {{ plan.durationDays }} –¥–Ω.</span>
                  </div>
              </td>

              {{-- –°—Ç–∞—Ç—É—Å (–¢–æ, —á—Ç–æ —Ç—ã –ø—Ä–æ—Å–∏–ª) --}}
              <td>
                  @if(plan.isActive)
                      <div class="badge badge-success gap-2 badge-sm">
                        –ê–∫—Ç–∏–≤–µ–Ω
                      </div>
                  @else
                      <div class="badge badge-ghost gap-2 badge-sm">
                        –°–∫—Ä—ã—Ç
                      </div>
                  @endif
              </td>

              {{-- –î–µ–π—Å—Ç–≤–∏—è (–û–±—ä–µ–¥–∏–Ω–∏–ª–∏ –∫–Ω–æ–ø–∫–∏) --}}
              <td>
                  <div class="join">
                    <a href="{{ route('admin.plans.edit', {id: plan.id}) }}" class="btn btn-xs btn-primary join-item">Edit</a>
                    <a href="{{ route('admin.plans.delete', {id: plan.id}) }}" class="btn btn-xs btn-error join-item" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–∞—Ä–∏—Ñ?')">Del</a>
                  </div>
              </td>
          </tr>
          @else
            <tr>
                <td colspan="6" class="text-center py-4 opacity-50">–¢–∞—Ä–∏—Ñ–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</td>
            </tr>
          @endeach
      </tbody>
    </table>
  </div>
@endslot
@end